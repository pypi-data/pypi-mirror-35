<tal:block tal:define="
pc python:context.getAdapter('pc')();
brains python:pc(portal_type='Document',
		 path={'query':context.getPath(),
		       'depth':1});
cur_page here/getDefaultPage|nothing;
getTypeInfo python:here.portal_types.getTypeInfo;
"
i18n:domain="plone">

    <h1 class="documentFirstHeading"
        i18n:translate="heading_select_default_page">Select default page</h1>

    <form id="edit-form" action="#" method="post"
          tal:condition="brains">

        <input type="hidden" name="uid"
               tal:attributes="value here/UID"/>


        <dl>
            <tal:item repeat="brain brains">
                <dt tal:define="item_typeinfo python: getTypeInfo(brain.portal_type);
                                item_id brain/getId;
                                item_icon item_typeinfo/getIcon;
                                ">
                    <input type="radio" name="objectId"
                           tal:attributes="value item_id;
                                           id item_id;
                                           checked python:item_id == cur_page and 'checked' or None"/>
                    <img tal:condition="item_icon"
                         tal:attributes="src string:/$item_icon;
                                         alt item_typeinfo/Title" />
                    <label tal:attributes="for item_id"
                           tal:content="brain/pretty_title_or_id">
                        Item title
                    </label>
                </dt>
                <dd tal:content="brain/Description">
                    Item Description
                </dd>
            </tal:item>

        </dl>

    </form>

    <tal:block tal:condition="not:brains">
        <div i18n:translate="help_no_selectable_default_pages">
            There are no items in this folder that can be selected as a default view page.
        </div>
    </tal:block>

    <input type="button" id="save-default-page"
           value="Save" name="kss-save"
           i18n:attributes="value"/>


</tal:block>
