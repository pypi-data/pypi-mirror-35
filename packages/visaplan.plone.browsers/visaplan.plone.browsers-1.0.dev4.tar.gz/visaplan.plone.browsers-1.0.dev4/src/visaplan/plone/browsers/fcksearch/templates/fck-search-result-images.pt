<tal:block tal:define="brains here/@@fcksearch/search;
                       unitracctype nocall:here/@@unitracctype;
                       contenticon nocall:here/@@contenticon"
           i18n:domain="plone">

    <div tal:condition="python:len(brains)==300" class="fcksearch-info"
         i18n:translate="too_many_search_results">
        Your search settings gives too many search results. The limit is set to 300. Please change your search settings.
    </div>
    <metal:block metal:define-macro="listing">

    <table id="tableFiles"
           class="custom-listing table table-bordered table-striped table-hover table-sorted">
    <tbody>
    <tr style="font-size:11px;">
        <th>
            <!-- -->
        </th>
        <th>
            <!-- -->
        </th>
        <th i18n:translate="">
            Type
        </th>
        <th i18n:translate="">
            Title
        </th>
        <th>
            <!-- -->
        </th>
        <th i18n:translate="">
            Language
        </th>
        <th i18n:translate="">
            Status
        </th>
        <th i18n:translate="">
            Path
        </th>
    </tr>
    <tal:rows-loop tal:repeat="brain brains">
    <tr tal:define="number repeat/brain/number;
                    brain_uid brain/UID;
                    ">
        <td>
            <div><tal:number tal:content="number"/>.</div>
        </td>
        <td i18n:translate="">
            <a class="box-overlay-image"
               tal:condition="brain/hasImage"
               rel="lightbox[image]"
               tal:attributes="href string:${here/portal_url}/resolveuid/${brain_uid}/image_preview;
                               title string:${number}. ${brain/pretty_title_or_id}">
                <img alt="Image"
                     tal:attributes="src string:${brain/getURL}/image_thumb"
                     i18n:attributes="alt"/>
            </a>
        </td>
        <td>
            <div tal:content="python:unitracctype.getTitle(brain)"
                 i18n:translate=""/>
        </td>
        <td>
            <div tal:content="brain/pretty_title_or_id"/>
        </td>
        <td>
            <div>
                <a class="ckeditor-take-scaling btn btn-default"
                   tal:attributes="href string:resolveuid/${brain_uid}/image_preview"
                   i18n:translate=""
                   >
                   Choose
                </a>
            </div>
        </td>
        <td tal:define="la brain/Language">
            <div tal:condition="la"
                 tal:content="la">
            de
            </div>
        </td>
        <td tal:define="review_state brain/review_state">
            <div tal:content="review_state"
                 tal:attributes="title review_state"
                 i18n:translate="">
            veröffentlicht
            </div>
        </td>
        <td>
            <div tal:content="python:u' → '.join(brain.getPath().split('/')[2:])"/>
        </td>
    </tr>
    </tal:rows-loop>
    </tbody>
    </table>

    </metal:block>

</tal:block>
