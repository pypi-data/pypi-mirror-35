-- -*- mode: Conf; coding: utf-8-unix -*-
-- style humanization strategies for MidiTransformer script;
--
-- The strategy describes how how the timing and the velocity may be
-- changed depending on the position of a note within a measure.
--
-- The velocity factor is a factor that is applied to the existing
-- velocity and then the slack is the possible variation. E.g. a
-- velocity factor of 0.8 with a slack of 10 means that the original
-- velocity is reduced by 20% and then a random offset in the interval
-- [-10, 10] is applied.  The random distribution is quadratic around the
-- center.
--
-- The timing is a variation as a factor of thirtysecond beats.
-- E.g. a value of 0.25 means that the timing may be off by at most a
-- 128th before or after the beat (25% of a thirtysecond note).  When
-- the percentage has an "A" prefix (for "ahead"), the offset is always
-- negative, for a "B" prefix (for "behind") it is always positive.
--
-- Additionally there is a global setting for instrument dependent
-- scaling factor on the velocity and timing variation.  A drum is
-- very tight and has a factor of 1.0 each which means that the
-- calculated variation is taken directly; a bass is slightly more
-- loose and has a factor of 150% each which means that the calculated
-- variation is scaled by a factor of 1.5.
--
-- by Dr. Thomas Tensi, 2017

countInMeasureCount = 2

-- ============================================================

-- global setting for instrument dependent scaling factor on the
-- velocity and timing variation as a value between 0 and 1
voiceNameToVariationFactorMap = "{ bass       : 0.8/0.95,"  \
                                 " drums      : 1/1,"       \
                                 " guitar     : 0.7/0.8,"   \
                                 " keyboard   : 0.5/0.5,"   \
                                 " percussion : 1/1,"       \
                                 " strings    : 0.5/0.5,"   \
                                 " vocals     : 0.8/0.8 }"

-- ============================================================

humanizationStyleBeatStd = \
  "{ timing:   { 1:0,    2:0.3,  3:0,    4:0.3,  S:B0.2, OTHER:B0.2 }," \
   " velocity: { 1:1.05, 2:0.95, 3:1.25, 4:0.95, S:0.9,  OTHER:0.85," \
               " SLACK:0.1 } }"

humanizationStyleBeatTight = \
  "{ timing:   { 1:0,    2:0.1,  3:0.1,  4:0.1, S:B0.2,  OTHER:B0.2 }," \
   " velocity: { 1:1.25, 2:1,    3:1.15, 4:1.05, S:0.9,  OTHER:0.95," \
               " SLACK:0.1 } }"

humanizationStyleDefault = \
  "{ timing:   { 1:0,    2:0.2, 3:0.2, 4:0.2, S:B0.2, OTHER:B0.25 }," \
   " velocity: { 1:1.15, 2:1,   3:1.1, 4:1,   S:1.05, OTHER:0.85," \
                 " SLACK:0.1 } }"

humanizationStyleReggae = \
  "{ timing:   { 1:0.2, 2:0.2,  3:0,   4:0.2,  S:B0.25, OTHER:B0.25 }," \
   " velocity: { 1:1,   2:0.95, 3:1.1, 4:0.95, S:0.8,  OTHER:0.85," \
               " SLACK:0.1 } }"

humanizationStyleRockHard = \
  "{ timing:   { 1:0.2,  2:0,    3:0.2,  4:0,   S:B0.25,  OTHER:B0.2 }," \
   " velocity: { 1:1,    2:1.15, 3:0.95, 4:1.1, S:0.9,   OTHER:0.85," \
               " SLACK:0.1 } }"
