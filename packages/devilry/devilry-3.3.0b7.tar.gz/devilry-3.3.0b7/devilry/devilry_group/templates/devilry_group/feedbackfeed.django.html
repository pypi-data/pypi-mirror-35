{% extends "devilry_group/base.django.html" %}
{% load devilry_group_tags %}
{% load devilry_account_tags %}
{% load crispy_forms_tags %}
{% load i18n %}
{% load cradmin_tags %}

{% block title %}
    {{ assignment.get_path }}
{% endblock title %}

{% block pageheader %}
    <div class="container">
        <div class="row">
            <div class="devilry-group-feedbackfeed-header">
                <div class="col-sm-10 text-left">
                    {% block feedbackfeed-header-content %}
                        <h1 class="devilry-group-feedbackfeed-header-assignment">
                            {{ assignment.long_name }}
                        </h1>
                        <div class="devilry-group-feedbackfeed-header-subject-period">
                            <p class="devilry-group-feedbackfeed-header-subject">
                                {{ subject.long_name }}
                            </p>
                            <p class="devilry-group-feedbackfeed-header-period">
                                {{ period.long_name }}
                            </p>
                        </div>
                        {% if devilry_ui_role == 'student' %}
                            {% if num_students_in_group > 1 or students_can_create_groups %}
                                <p>
                                    <a href="{% cradmin_instance_appindex_url 'projectgroup' %}"
                                       class="devilry-feedbackfeed-student-projectgroup-detauils-link">
                                        {% trans "Project group details" %}
                                    </a>
                                </p>
                            {% endif %}
                        {% endif %}
                    {% endblock feedbackfeed-header-content %}
                </div>
            </div>
        </div>
    </div>
{% endblock pageheader %}

{% block content %}
    {% block hard_deadline_info_box %}
        {% if assignment_uses_hard_deadlines %}
            <div class="container">
                <div class="alert alert-info devilry-feedbackfeed-hard-deadline-info-box">
                    <p>{{ assignment_uses_hard_deadlines_info_text }}</p>
                </div>
            </div>
        {% endif %}
    {% endblock hard_deadline_info_box %}

    {% block downloadbar %}
        <div class="container">
            {% include "devilry_group/include/buttonbar.django.html" %}
        </div>
    {% endblock downloadbar %}

    <div class="container">
        {% block feed %}
            {% cradmin_render_renderable listbuilder_list %}
            {% block pre_form %}{% endblock pre_form %}
            {% block navigation %}{% endblock %}
            {% if comment_form_disabled %}
                {% include "devilry_group/include/comments_disabled.django.html" %}
            {% else %}
                {% block form %}
                    {% crispy form formhelper %}
                    {{ form.media }}
                {% endblock form %}
            {% endif %}
            {% block post_form %}{% endblock post_form %}
        {% endblock feed %}
    </div>
{% endblock content %}

{% block end-of-body %}
    {{ block.super }}
    {% include "devilry_theme3/include/devilry_all_js.django.html" %}
{% endblock end-of-body %}
