

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pstat &mdash; wfc3tools 1.3.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="wfc3tools 1.3.1 documentation" href="index.html"/>
        <link rel="next" title="pstack" href="pstack.html"/>
        <link rel="prev" title="embedsub" href="embedsub.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> wfc3tools
          

          
            
            <img src="_static/stsci_pri_combo_mark_white.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="calwf3.html">calwf3</a></li>
<li class="toctree-l1"><a class="reference internal" href="wf3cte.html">wf3cte</a></li>
<li class="toctree-l1"><a class="reference internal" href="wf3ccd.html">wf3ccd</a></li>
<li class="toctree-l1"><a class="reference internal" href="wf32d.html">wf32d</a></li>
<li class="toctree-l1"><a class="reference internal" href="wf3ir.html">wf3ir</a></li>
<li class="toctree-l1"><a class="reference internal" href="wf3rej.html">wf3rej</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Software History</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="embedsub.html">embedsub</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">pstat</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pstack.html">pstack</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampinfo.html">sampinfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="sub2full.html">sub2full</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">wfc3tools</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>pstat</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/pstat.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pstat">
<span id="id1"></span><h1>pstat<a class="headerlink" href="#pstat" title="Permalink to this headline">¶</a></h1>
<p>Plot statistics for a specified image section  up  the  stack  of  a
an IR MultiAccum image.  Sections from any of the SCI,
ERR, DQ,  image extensions can be  plotted.   A  choice
of  mean,  median,  mode,  standard  deviation,  minimum and maximum
statistics is available.  The total number of samples is  determined
from  the  primary  header  keyword NSAMP and all samples (excluding
the zeroth-read) are plotted.  The SCI, ERR, DQ  statistics
are  plotted as a function of sample time. The sample times  are  read
from  the  SAMPTIME  keyword in the SCI header for each readout.</p>
<p>SAMP and TIME aren&#8217;t generally populated until the FLT image stage
To plot the samptime vs sample, use wfc3tools.pstat and the &#8220;time&#8221; extension</p>
<div class="figure align-center" id="id2">
<img alt="pstat example plot" src="_images/pstat_example.png" />
<p class="caption"><span class="caption-text">Figure 1: An example of the default plot from pstat</span></p>
</div>
<div class="highlight-python"><div class="highlight"><pre>In [1]: pstat(&#39;ibh719grq_ima.fits&#39;)
</pre></div>
</div>
<p>The plotting data is returned as two arrays:</p>
<div class="highlight-python"><div class="highlight"><pre>Out[2]:
(array([ 100.651947,   93.470573,   86.2892  ,   79.107826,   71.926453,
          64.745079,   57.563702,   50.382328,   43.200954,   36.019581,
          28.838205,   21.65683 ,   14.475455,    7.29408 ,    0.112705,
           0.      ]),
 array([ 171.85813415,  162.44643275,  148.99918831,  137.60458714,
         125.91510743,  114.71149769,  102.63038466,   90.97130078,
          78.26479365,   67.16825321,   53.6897243 ,   41.71639092,
          29.36628817,   16.47151355,   -0.20821257,    0.        ]))
</pre></div>
</div>
<p>If you want to save the plotting data into the variables <code class="docutils literal"><span class="pre">time</span></code> and <code class="docutils literal"><span class="pre">counts</span></code> you can issue the command like this:</p>
<div class="highlight-python"><div class="highlight"><pre>In [1]: time,counts =pstat.pstat(&#39;ibh719grq_ima.fits&#39;)

In [2]: time
Out[3]:
array([ 100.651947,   93.470573,   86.2892  ,   79.107826,   71.926453,
         64.745079,   57.563702,   50.382328,   43.200954,   36.019581,
         28.838205,   21.65683 ,   14.475455,    7.29408 ,    0.112705,
          0.      ])

In [4]: counts
Out[5]:
array([ 171.85813415,  162.44643275,  148.99918831,  137.60458714,
        125.91510743,  114.71149769,  102.63038466,   90.97130078,
         78.26479365,   67.16825321,   53.6897243 ,   41.71639092,
         29.36628817,   16.47151355,   -0.20821257,    0.        ])
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Note that the arrays are structured in SCI order, so the final exposure is the first element in the array</p>
</div>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>filename [file]</dt>
<dd><p class="first last">Input   MultiAccum   image  name  with  optional  image  section  specification.  If no image section  is  specified,  the  entire image  is  used.   This  should  be  either a _raw or _ima file, containing all  the  data  from  multiple  readouts.   You  must specify  just  the  file name and image section, with no extname designation.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>extname = &#8220;sci&#8221; [string, allowed values: sci | err | dq ]</dt>
<dd><p class="first last">Extension name (EXTNAME keyword value) of data to plot.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>units = &#8220;counts&#8221; [string, allowed values: counts | rate]</dt>
<dd><p class="first last">Plot &#8220;sci&#8221; or  &#8220;err&#8221;  data  in  units  of  counts  or  countrate
(&#8220;rate&#8221;).   Input data can be in either unit; conversion will be
performed automatically.  Ignored when  plotting  &#8220;dq&#8221;,  &#8220;samp&#8221;,
or &#8220;time&#8221; data.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>stat = &#8220;midpt&#8221; [string, allowed values: mean|midpt|mode|stddev|min|max]</dt>
<dd><p class="first last">Type of statistic to compute.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>title = &#8220;&#8221; [string]</dt>
<dd><p class="first last">Title  for  the  plot.   If  left  blank,  the name of the input
image, appended with the extname and image section, is used.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>xlabel = &#8220;&#8221; [string]</dt>
<dd><p class="first last">Label for the X-axis of the plot.  If  left  blank,  a  suitable
default is generated.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>ylabel = &#8220;&#8221; [string]</dt>
<dd><p class="first last">Label  for  the  Y-axis  of  the plot. If left blank, a suitable
default based on the plot units and the extname of the  data  is
generated.</p>
</dd>
</dl>
</li>
<li><p class="first">plot = True [bool]  set plot to false if you only want the data returned</p>
</li>
</ul>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre>pstat.py  inputFilename [pixel range]


&gt;&gt;&gt; python
&gt;&gt;&gt; from wfc3tools import pstat
&gt;&gt;&gt; pstat(inputFilename,extname=&quot;sci&quot;,units=&quot;counts&quot;,stat=&quot;midpt&quot;,title=&quot;&quot;,xlabel=&quot;&quot;,ylabel=&quot;&quot; )
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pstack.html" class="btn btn-neutral float-right" title="pstack" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="embedsub.html" class="btn btn-neutral" title="embedsub" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012, Sosey M.,STScI.
      Last updated on Mar 06, 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.3.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>